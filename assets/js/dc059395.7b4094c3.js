"use strict";(self.webpackChunk_spotifly_docs=self.webpackChunk_spotifly_docs||[]).push([[620],{3042:function(e,t,a){a.d(t,{q:function(){return b}});var r=a(8389),n=a(5310),l=a(4614),i=a(1230),o=a(3876),u=a(1015),p=a(7090),c=a(3990),s=a(7802),d=a(4591),m=a(7378),k=a(9303),f=a(8544),y=a(9626),g=function(e){var t=e.children;return m.createElement(y.Z,{language:"npx"},t)},b=function(e){var t=e.cli,a=e.npx,y=e.commandMap,b=e.required,h=e.scopesKey,v=m.useState({}),N=v[0],C=v[1],x=function(e){return b.includes(e)},E=Object.assign({},y,N);return console.log(E),m.createElement(k.C,null,m.createElement(n.Z,{component:"form",sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"15px 10px","& > *":{width:"25ch"},mb:2}},Object.entries(E).map((function(e){var t=e[0],a=e[1];return"boolean"==typeof a?m.createElement(n.Z,{display:"flex",justifyContent:"center",key:t},m.createElement(o.Z,{key:t,label:t,control:m.createElement(l.Z,{key:t,checked:a,onChange:function(){var e;return C(Object.assign({},N,((e={})[t]=!a,e)))}})})):t===h?m.createElement(i.Z,{key:t,required:x(t)},m.createElement(u.Z,null,t),m.createElement(s.Z,{multiple:!0,value:a,onChange:function(e){var a;return C(Object.assign({},N,((a={})[t]=e.target.value,a)))},input:m.createElement(c.Z,{label:"scope"})},f.g8.map((function(e){return m.createElement(p.Z,{key:e,value:e},e)})))):Array.isArray(a)?m.createElement(d.Z,{variant:"outlined",value:a[0],label:t,select:!0,required:x(t),key:t,onChange:function(e){var r;C(Object.assign({},N,((r={})[t]=(0,f.p1)(a,e.target.value),r)))}},a.map((function(e){return m.createElement(p.Z,{key:e,value:e},e)}))):m.createElement(d.Z,{key:t,id:t,type:"text",required:x(t),label:t,value:a,onChange:function(e){var a;return C(Object.assign({},N,((a={})[t]=e.target.value,a)))},variant:"outlined"})}))),[["With npx",a],["With cli",t]].map((function(e){var t=e[0],a=e[1];return m.createElement(m.Fragment,{key:t},m.createElement(r.Z,{fontWeight:"bold"},t),m.createElement(g,null,(0,f._F)({base:a,obj:E,multiValueKeys:[h]})))})))}},9303:function(e,t,a){a.d(t,{C:function(){return p}});var r=a(7927),n=a(2905),l=a(9703),i=a(7378),o=(0,n.Z)({palette:{mode:"dark",primary:{main:"#90caf9",light:"#b5dcfb",dark:"#6bb8f7"}}}),u=(0,n.Z)({palette:{mode:"light",primary:{main:"#4a44a2",light:"#514bb2",dark:"#433d92"}}}),p=function(e){var t=e.children,a=(0,r.If)().colorMode,n=(0,i.useMemo)((function(){return"light"===a?u:o}),[a]);return i.createElement(l.Z,{theme:n},t)}},8544:function(e,t,a){function r(e){var t=e.base,a=e.obj,r=e.multiValueKeys,n=void 0===r?[]:r;return t.trim()+" "+Object.entries(a).reduce((function(e,t){var a=t[0],r=t[1];return!1===r||""===r?e:(e+="--"+a+" ",!0===r?e:Array.isArray(r)?e+=(n.includes(a)?'"'+r.join(" ")+'"':r[0])+" ":(r.indexOf(" ")>-1&&" "!==r.slice(-1)&&(r='"'+r+'"'),e+=r+" "))}),"").trim()}function n(e,t){var a=e.indexOf(t);if(a>-1){var r=[e[a],e[0]];e[0]=r[0],e[a]=r[1]}return e}a.d(t,{_F:function(){return r},g8:function(){return l},p1:function(){return n}});var l=["ugc-image-upload","user-read-playback-state","user-modify-playback-state","user-read-currently-playing","user-read-private","user-read-email","user-follow-modify","user-follow-read","user-library-modify","user-library-read","app-remote-control","user-read-playback-position","user-top-read","user-read-recently-played","playlist-modify-private","playlist-read-collaborative","playlist-read-private","playlist-modify-public"]},1670:function(e,t,a){a.r(t),a.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return k},frontMatter:function(){return u},metadata:function(){return c},toc:function(){return d}});var r=a(2685),n=a(1244),l=(a(7378),a(5318)),i=a(3042),o=["components"],u={title:"Library",tags:["cli"]},p=void 0,c={unversionedId:"packages/library/library",id:"packages/library/library",title:"Library",description:"npm (scoped)",source:"@site/docs/packages/library/library.mdx",sourceDirName:"packages/library",slug:"/packages/library/",permalink:"/docs/packages/library/",editUrl:"https://github.com/eegli/spotifly/tree/main/docs/docs/packages/library/library.mdx",tags:[{label:"cli",permalink:"/docs/tags/cli"}],version:"current",frontMatter:{title:"Library",tags:["cli"]},sidebar:"tutorialSidebar",previous:{title:"Auth Token",permalink:"/docs/packages/auth-token"},next:{title:"Example Output",permalink:"/docs/packages/library/example-output"}},s={},d=[{value:"CLI Usage",id:"cli-usage",level:2},{value:"Options",id:"options",level:3},{value:"Output",id:"output",level:2}],m={toc:d};function k(e){var t=e.components,a=(0,n.Z)(e,o);return(0,l.kt)("wrapper",(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://img.shields.io/npm/v/@spotifly/library",alt:"npm (scoped)"})),(0,l.kt)("p",null,"Export your Spotify library to JSON."),(0,l.kt)("p",null,"You will need an access token from Spotify. You can get one from right ",(0,l.kt)("a",{parentName:"p",href:"/docs/authorization"},"here!")),(0,l.kt)("h2",{id:"cli-usage"},"CLI Usage"),(0,l.kt)("p",null,"Create your custom command using the query builder below and paste it into your terminal."),(0,l.kt)(i.q,{cli:"spotifly library",npx:"npx @spotifly/library@latest",commandMap:{token:"token",type:["light","full"],outDir:"",genres:!1,features:!1,compact:!1},required:["token"],mdxType:"CliCodeBlock"}),(0,l.kt)("h3",{id:"options"},"Options"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Flag"),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("em",{parentName:"th"},"(required?)")," Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--token")),(0,l.kt)("td",{parentName:"tr",align:null},'\u2705 A Spotify user access token. Requires at least the scope "user-library-read"')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--type")),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c Output type per track. Either ",(0,l.kt)("inlineCode",{parentName:"td"},"full")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"light"),". Default: ",(0,l.kt)("inlineCode",{parentName:"td"},"light"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--genres")),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c Include artist genres for each track. Default: ",(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--features")),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c Include audio features for each track. Default: ",(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--compact")),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c Output more compact/minified JSON and save disk space. Default: ",(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"--outDir"),(0,l.kt)("td",{parentName:"tr",align:null},"\u274c Custom relative output directory. Default: Current directory")))),(0,l.kt)("h2",{id:"output"},"Output"),(0,l.kt)("p",null,"A ",(0,l.kt)("inlineCode",{parentName:"p"},"light")," track has a reduced set of properties:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"type TrackLight = {\n  id: string;\n  name: string;\n  album: {\n    name: string;\n    id: string;\n  };\n  artists: {\n    id: string;\n    name: string;\n  }[];\n};\n")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"full")," has all the track properties from the Spotify API. The next page features an example of both outputs."))}k.isMDXComponent=!0}}]);