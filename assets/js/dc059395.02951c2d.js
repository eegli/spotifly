"use strict";(self.webpackChunk_spotifly_docs=self.webpackChunk_spotifly_docs||[]).push([[620],{5947:function(e,t,a){a.d(t,{q:function(){return b}});var r=a(5861),n=a(7357),l=a(5071),i=a(4054),o=a(480),u=a(3841),p=a(431),s=a(7058),d=a(4034),c=a(1903),m=a(7294),k=a(6230),y=a(6420),f=a(4029);const g=e=>{let{children:t}=e;return m.createElement(f.Z,{language:"npx"},t)},b=e=>{let{cli:t,npx:a,commandMap:f,required:b,scopesKey:h}=e;const[N,v]=m.useState({}),C=e=>b.includes(e),x={...f,...N};return m.createElement(k.C,null,m.createElement(n.Z,{component:"form",sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"15px 10px","& > *":{width:"25ch"},mb:2}},Object.entries(x).map((e=>{let[t,a]=e;return"boolean"==typeof a?m.createElement(n.Z,{display:"flex",justifyContent:"center",key:t},m.createElement(o.Z,{key:t,label:t,control:m.createElement(l.Z,{key:t,checked:a,onChange:()=>v({...N,[t]:!a})})})):t===h?m.createElement(i.Z,{key:t,required:C(t)},m.createElement(u.Z,null,t),m.createElement(d.Z,{multiple:!0,value:a,onChange:e=>v({...N,[t]:e.target.value}),input:m.createElement(s.Z,{label:"scope"})},y.g8.map((e=>m.createElement(p.Z,{key:e,value:e},e))))):Array.isArray(a)?m.createElement(c.Z,{variant:"outlined",value:a[0],label:t,select:!0,required:C(t),key:t,onChange:e=>{v({...N,[t]:(0,y.p1)(a,e.target.value)})}},a.map((e=>m.createElement(p.Z,{key:e,value:e},e)))):m.createElement(c.Z,{key:t,id:t,type:"text",required:C(t),label:t,value:a,onChange:e=>v({...N,[t]:e.target.value}),variant:"outlined"})}))),[["With npx",a],["With cli",t]].map((e=>{let[t,a]=e;return m.createElement(m.Fragment,{key:t},m.createElement(r.Z,{fontWeight:"bold"},t),m.createElement(g,null,(0,y._F)({base:a,obj:x,multiValueKeys:[h]})))})))}},6230:function(e,t,a){a.d(t,{C:function(){return p}});var r=a(2949),n=a(1265),l=a(1927),i=a(7294);const o=(0,n.Z)({palette:{mode:"dark",primary:{main:"#90caf9",light:"#b5dcfb",dark:"#6bb8f7"}}}),u=(0,n.Z)({palette:{mode:"light",primary:{main:"#4a44a2",light:"#514bb2",dark:"#433d92"}}}),p=e=>{let{children:t}=e;const{colorMode:a}=(0,r.I)(),n=(0,i.useMemo)((()=>"light"===a?u:o),[a]);return i.createElement(l.Z,{theme:n},t)}},6420:function(e,t,a){function r(e){let{base:t,obj:a,multiValueKeys:r=[]}=e;return t.trim()+" "+Object.entries(a).reduce(((e,t)=>{let[a,n]=t;if(!1===n||""===n)return e;if(e+="--"+a+" ",!0===n)return e;if(Array.isArray(n)){return e+=(r.includes(a)?'"'+n.join(" ")+'"':n[0])+" "}return n.indexOf(" ")>-1&&" "!==n.slice(-1)&&(n='"'+n+'"'),e+=n+" "}),"").trim()}function n(e,t){const a=e.indexOf(t);return a>-1&&([e[0],e[a]]=[e[a],e[0]]),e}a.d(t,{_F:function(){return r},g8:function(){return l},p1:function(){return n}});const l=["ugc-image-upload","user-read-playback-state","user-modify-playback-state","user-read-currently-playing","user-read-private","user-read-email","user-follow-modify","user-follow-read","user-library-modify","user-library-read","app-remote-control","user-read-playback-position","user-top-read","user-read-recently-played","playlist-modify-private","playlist-read-collaborative","playlist-read-private","playlist-modify-public"]},5762:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return s}});var r=a(7462),n=(a(7294),a(3905)),l=a(5947);const i={title:"Library",tags:["cli"]},o=void 0,u={unversionedId:"packages/library/library",id:"packages/library/library",title:"Library",description:"npm (scoped)",source:"@site/docs/packages/library/library.mdx",sourceDirName:"packages/library",slug:"/packages/library/",permalink:"/docs/packages/library/",draft:!1,editUrl:"https://github.com/eegli/spotifly/tree/main/docs/docs/packages/library/library.mdx",tags:[{label:"cli",permalink:"/docs/tags/cli"}],version:"current",frontMatter:{title:"Library",tags:["cli"]},sidebar:"tutorialSidebar",previous:{title:"Auth Token",permalink:"/docs/packages/auth-token"},next:{title:"Example Output",permalink:"/docs/packages/library/example-output"}},p={},s=[{value:"CLI Usage",id:"cli-usage",level:2},{value:"Options",id:"options",level:3},{value:"Output",id:"output",level:2}],d={toc:s};function c(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://img.shields.io/npm/v/@spotifly/library",alt:"npm (scoped)"})),(0,n.kt)("p",null,"Export your Spotify library to JSON."),(0,n.kt)("p",null,"You will need an access token from Spotify. You can get one from right ",(0,n.kt)("a",{parentName:"p",href:"/docs/authorization"},"here!")),(0,n.kt)("h2",{id:"cli-usage"},"CLI Usage"),(0,n.kt)("p",null,"Create your custom command using the query builder below and paste it into your terminal."),(0,n.kt)(l.q,{cli:"spotifly library",npx:"npx @spotifly/library@latest",commandMap:{token:"token",type:["light","full"],outDir:"",genres:!1,features:!1,compact:!1},required:["token"],mdxType:"CliCodeBlock"}),(0,n.kt)("h3",{id:"options"},"Options"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Flag"),(0,n.kt)("th",{parentName:"tr",align:null},(0,n.kt)("em",{parentName:"th"},"(required?)")," Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"--token")),(0,n.kt)("td",{parentName:"tr",align:null},'\u2705 A Spotify user access token. Requires at least the scope "user-library-read"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"--type")),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c Output type per track. Either ",(0,n.kt)("inlineCode",{parentName:"td"},"full")," or ",(0,n.kt)("inlineCode",{parentName:"td"},"light"),". Default: ",(0,n.kt)("inlineCode",{parentName:"td"},"light"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"--genres")),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c Include artist genres for each track. Default: ",(0,n.kt)("inlineCode",{parentName:"td"},"false"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"--features")),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c Include audio features for each track. Default: ",(0,n.kt)("inlineCode",{parentName:"td"},"false"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"--compact")),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c Output more compact/minified JSON and save disk space. Default: ",(0,n.kt)("inlineCode",{parentName:"td"},"false"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"--outDir"),(0,n.kt)("td",{parentName:"tr",align:null},"\u274c Custom relative output directory. Default: Current directory")))),(0,n.kt)("h2",{id:"output"},"Output"),(0,n.kt)("p",null,"A ",(0,n.kt)("inlineCode",{parentName:"p"},"light")," track has a reduced set of properties:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"type TrackLight = {\n  id: string;\n  name: string;\n  album: {\n    name: string;\n    id: string;\n  };\n  artists: {\n    id: string;\n    name: string;\n  }[];\n};\n")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"full")," has all the track properties from the Spotify API. The next page features an example of both outputs."))}c.isMDXComponent=!0}}]);