"use strict";(self.webpackChunk_spotifly_docs=self.webpackChunk_spotifly_docs||[]).push([[205],{3905:function(e,t,o){o.d(t,{Zo:function(){return d},kt:function(){return m}});var a=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(o),m=n,h=u["".concat(l,".").concat(m)]||u[m]||p[m]||r;return o?a.createElement(h,i(i({ref:t},d),{},{components:o})):a.createElement(h,i({ref:t},d))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var c=2;c<r;c++)i[c]=o[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}u.displayName="MDXCreateElement"},6230:function(e,t,o){o.d(t,{C:function(){return c}});var a=o(2949),n=o(1265),r=o(1927),i=o(7294);const s=(0,n.Z)({palette:{mode:"dark",primary:{main:"#90caf9",light:"#b5dcfb",dark:"#6bb8f7"}}}),l=(0,n.Z)({palette:{mode:"light",primary:{main:"#4a44a2",light:"#514bb2",dark:"#433d92"}}}),c=e=>{let{children:t}=e;const{colorMode:o}=(0,a.I)(),n=(0,i.useMemo)((()=>"light"===o?l:s),[o]);return i.createElement(r.Z,{theme:n},t)}},6420:function(e,t,o){function a(e){let{base:t,obj:o,multiValueKeys:a=[]}=e;return t.trim()+" "+Object.entries(o).reduce(((e,t)=>{let[o,n]=t;if(!1===n||""===n)return e;if(e+="--"+o+" ",!0===n)return e;if(Array.isArray(n)){return e+=(a.includes(o)?'"'+n.join(" ")+'"':n[0])+" "}return n.indexOf(" ")>-1&&" "!==n.slice(-1)&&(n='"'+n+'"'),e+=n+" "}),"").trim()}function n(e,t){const o=e.indexOf(t);return o>-1&&([e[0],e[o]]=[e[o],e[0]]),e}o.d(t,{_F:function(){return a},g8:function(){return r},p1:function(){return n}});const r=["ugc-image-upload","user-read-playback-state","user-modify-playback-state","user-read-currently-playing","user-read-private","user-read-email","user-follow-modify","user-follow-read","user-library-modify","user-library-read","app-remote-control","user-read-playback-position","user-top-read","user-read-recently-played","playlist-modify-private","playlist-read-collaborative","playlist-read-private","playlist-modify-public"]},5361:function(e,t,o){o.r(t),o.d(t,{assets:function(){return fe},contentTitle:function(){return he},default:function(){return be},frontMatter:function(){return me},metadata:function(){return ye},toc:function(){return ve}});var a=o(7462),n=o(7294),r=o(3905),i=o(7357),s=o(3366),l=o(6010),c=o(7925),d=o(4780),p=o(1796),u=o(1496),m=o(7623),h=o(7739),y=o(8216),f=o(4867),v=o(1588);function g(e){return(0,f.Z)("MuiButton",e)}var b=(0,v.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var w=n.createContext({}),k=o(5893);const S=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],x=e=>(0,a.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Z=(0,u.ZP)(h.Z,{shouldForwardProp:e=>(0,u.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`${o.variant}${(0,y.Z)(o.color)}`],t[`size${(0,y.Z)(o.size)}`],t[`${o.variant}Size${(0,y.Z)(o.size)}`],"inherit"===o.color&&t.colorInherit,o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>{var o,n;return(0,a.Z)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,a.Z)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,p.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,a.Z)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${b.focusVisible}`]:(0,a.Z)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${b.disabled}`]:(0,a.Z)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${(e.vars||e).palette.action.disabled}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,p.Fq)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(o=(n=e.palette).getContrastText)?void 0:o.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${b.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${b.disabled}`]:{boxShadow:"none"}})),C=(0,u.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.startIcon,t[`iconSize${(0,y.Z)(o.size)}`]]}})((({ownerState:e})=>(0,a.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},x(e)))),I=(0,u.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.endIcon,t[`iconSize${(0,y.Z)(o.size)}`]]}})((({ownerState:e})=>(0,a.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},x(e))));var z=n.forwardRef((function(e,t){const o=n.useContext(w),r=(0,c.Z)(o,e),i=(0,m.Z)({props:r,name:"MuiButton"}),{children:p,color:u="primary",component:h="button",className:f,disabled:v=!1,disableElevation:b=!1,disableFocusRipple:x=!1,endIcon:z,focusVisibleClassName:N,fullWidth:T=!1,size:E="medium",startIcon:O,type:P,variant:R="text"}=i,$=(0,s.Z)(i,S),A=(0,a.Z)({},i,{color:u,component:h,disabled:v,disableElevation:b,disableFocusRipple:x,fullWidth:T,size:E,type:P,variant:R}),F=(e=>{const{color:t,disableElevation:o,fullWidth:n,size:r,variant:i,classes:s}=e,l={root:["root",i,`${i}${(0,y.Z)(t)}`,`size${(0,y.Z)(r)}`,`${i}Size${(0,y.Z)(r)}`,"inherit"===t&&"colorInherit",o&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,y.Z)(r)}`],endIcon:["endIcon",`iconSize${(0,y.Z)(r)}`]},c=(0,d.Z)(l,g,s);return(0,a.Z)({},s,c)})(A),L=O&&(0,k.jsx)(C,{className:F.startIcon,ownerState:A,children:O}),j=z&&(0,k.jsx)(I,{className:F.endIcon,ownerState:A,children:z});return(0,k.jsxs)(Z,(0,a.Z)({ownerState:A,className:(0,l.Z)(f,o.className),component:h,disabled:v,focusRipple:!x,focusVisibleClassName:(0,l.Z)(F.focusVisible,N),ref:t,type:P},$,{classes:F,children:[L,p,j]}))})),N=o(4054),T=o(3841),E=o(431),O=o(7058),P=o(4034),R=o(1903),$=function(){};var A="undefined"!=typeof window,F=function(e,t,o){if(!A)return[t,$,$];if(!e)throw new Error("useLocalStorage key may not be falsy");var a=o?o.raw?function(e){return e}:o.deserializer:JSON.parse,r=(0,n.useRef)((function(e){try{var n=o?o.raw?String:o.serializer:JSON.stringify,r=localStorage.getItem(e);return null!==r?a(r):(t&&localStorage.setItem(e,n(t)),t)}catch(i){return t}})),i=(0,n.useState)((function(){return r.current(e)})),s=i[0],l=i[1];(0,n.useLayoutEffect)((function(){return l(r.current(e))}),[e]);var c=(0,n.useCallback)((function(t){try{var n="function"==typeof t?t(s):t;if(void 0===n)return;var r=void 0;r=o?o.raw?"string"==typeof n?n:JSON.stringify(n):o.serializer?o.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,r),l(a(r))}catch(i){}}),[e,l]),d=(0,n.useCallback)((function(){try{localStorage.removeItem(e),l(void 0)}catch(i){}}),[e,l]);return[s,c,d]};function L(e,t){const{type:o,payload:a}=t;switch(o){case"setAuthType":return{...e,authType:a};case"setClientId":return{...e,clientId:a};case"setClientSecret":return{...e,clientSecret:a};case"setRefreshToken":return{...e,refreshToken:a};case"setScopes":{const t="string"==typeof a?[a]:a;return{...e,scopes:t}}case"setError":return{...e,error:a};default:return e}}var j=o(6230),M=o(6420),G=o(5861);const _=e=>{let{message:t}=e;return n.createElement(i.Z,{py:2,px:1},n.createElement(G.Z,null,t))};var D=o(8462),B=o(8442),V=o(1579),W=o(8974),q=o(1705),U=o(9773);function J(e){return(0,f.Z)("MuiListItem",e)}var X=(0,v.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var H=(0,v.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Y(e){return(0,f.Z)("MuiListItemSecondaryAction",e)}(0,v.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);const K=["className"],Q=(0,u.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.disableGutters&&t.disableGutters]}})((({ownerState:e})=>(0,a.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0}))),ee=n.forwardRef((function(e,t){const o=(0,m.Z)({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=o,i=(0,s.Z)(o,K),c=n.useContext(U.Z),p=(0,a.Z)({},o,{disableGutters:c.disableGutters}),u=(e=>{const{disableGutters:t,classes:o}=e,a={root:["root",t&&"disableGutters"]};return(0,d.Z)(a,Y,o)})(p);return(0,k.jsx)(Q,(0,a.Z)({className:(0,l.Z)(u.root,r),ownerState:p,ref:t},i))}));ee.muiName="ListItemSecondaryAction";var te=ee;const oe=["className"],ae=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],ne=(0,u.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,"flex-start"===o.alignItems&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.button&&t.button,o.hasSecondaryAction&&t.secondaryAction]}})((({theme:e,ownerState:t})=>(0,a.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&(0,a.Z)({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${H.root}`]:{paddingRight:48}},{[`&.${X.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${X.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,p.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${X.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,p.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${X.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,p.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,p.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48}))),re=(0,u.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"});var ie=n.forwardRef((function(e,t){const o=(0,m.Z)({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:i=!1,button:c=!1,children:p,className:u,component:y,components:f={},componentsProps:v={},ContainerComponent:g="li",ContainerProps:{className:b}={},dense:w=!1,disabled:S=!1,disableGutters:x=!1,disablePadding:Z=!1,divider:C=!1,focusVisibleClassName:I,secondaryAction:z,selected:N=!1}=o,T=(0,s.Z)(o.ContainerProps,oe),E=(0,s.Z)(o,ae),O=n.useContext(U.Z),P={dense:w||O.dense||!1,alignItems:r,disableGutters:x},R=n.useRef(null);(0,W.Z)((()=>{i&&R.current&&R.current.focus()}),[i]);const $=n.Children.toArray(p),A=$.length&&(0,V.Z)($[$.length-1],["ListItemSecondaryAction"]),F=(0,a.Z)({},o,{alignItems:r,autoFocus:i,button:c,dense:P.dense,disabled:S,disableGutters:x,disablePadding:Z,divider:C,hasSecondaryAction:A,selected:N}),L=(e=>{const{alignItems:t,button:o,classes:a,dense:n,disabled:r,disableGutters:i,disablePadding:s,divider:l,hasSecondaryAction:c,selected:p}=e,u={root:["root",n&&"dense",!i&&"gutters",!s&&"padding",l&&"divider",r&&"disabled",o&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",p&&"selected"],container:["container"]};return(0,d.Z)(u,J,a)})(F),j=(0,q.Z)(R,t),M=f.Root||ne,G=v.root||{},_=(0,a.Z)({className:(0,l.Z)(L.root,G.className,u),disabled:S},E);let D=y||"li";return c&&(_.component=y||"div",_.focusVisibleClassName=(0,l.Z)(X.focusVisible,I),D=h.Z),A?(D=_.component||y?D:"div","li"===g&&("li"===D?D="div":"li"===_.component&&(_.component="div")),(0,k.jsx)(U.Z.Provider,{value:P,children:(0,k.jsxs)(re,(0,a.Z)({as:g,className:(0,l.Z)(L.container,b),ref:j,ownerState:F},T,{children:[(0,k.jsx)(M,(0,a.Z)({},G,!(0,B.Z)(M)&&{as:D,ownerState:(0,a.Z)({},F,G.ownerState)},_,{children:$})),$.pop()]}))})):(0,k.jsx)(U.Z.Provider,{value:P,children:(0,k.jsxs)(M,(0,a.Z)({},G,{as:D,ref:j,ownerState:F},!(0,B.Z)(M)&&{ownerState:(0,a.Z)({},F,G.ownerState)},_,{children:[$,z&&(0,k.jsx)(te,{children:z})]}))})})),se=o(6336);const le=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ce=(0,u.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${se.Z.primary}`]:t.primary},{[`& .${se.Z.secondary}`]:t.secondary},t.root,o.inset&&t.inset,o.primary&&o.secondary&&t.multiline,o.dense&&t.dense]}})((({ownerState:e})=>(0,a.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})));var de=n.forwardRef((function(e,t){const o=(0,m.Z)({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:c=!1,inset:p=!1,primary:u,primaryTypographyProps:h,secondary:y,secondaryTypographyProps:f}=o,v=(0,s.Z)(o,le),{dense:g}=n.useContext(U.Z);let b=null!=u?u:r,w=y;const S=(0,a.Z)({},o,{disableTypography:c,inset:p,primary:!!b,secondary:!!w,dense:g}),x=(e=>{const{classes:t,inset:o,primary:a,secondary:n,dense:r}=e,i={root:["root",o&&"inset",r&&"dense",a&&n&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,d.Z)(i,se.L,t)})(S);return null==b||b.type===G.Z||c||(b=(0,k.jsx)(G.Z,(0,a.Z)({variant:g?"body2":"body1",className:x.primary,component:"span",display:"block"},h,{children:b}))),null==w||w.type===G.Z||c||(w=(0,k.jsx)(G.Z,(0,a.Z)({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},f,{children:w}))),(0,k.jsxs)(ce,(0,a.Z)({className:(0,l.Z)(x.root,i),ownerState:S,ref:t},v,{children:[b,w]}))}));const pe=e=>{let{expires:t,accessToken:o,refreshToken:a,scopes:r}=e;return n.createElement(D.Z,null,n.createElement(ie,{disablePadding:!0},n.createElement(de,{primary:"Expires",secondary:"In "+new Date(t-Date.now()).getMinutes()+" minutes (at "+new Date(t).toLocaleTimeString()+")"})),n.createElement(ie,{disablePadding:!0},n.createElement(de,{primary:"Scopes",secondary:r})),n.createElement(ie,{disablePadding:!0},n.createElement(ie,{disablePadding:!0},n.createElement(de,{primary:"Access token",secondary:o}))),a&&n.createElement(ie,{disablePadding:!0},n.createElement(de,{primary:"Refresh token",primaryTypographyProps:{color:"warning.light"},secondary:a,secondaryTypographyProps:{color:"warning.dark"}})))},ue=()=>{const[e,t]=(0,n.useReducer)(L,{authType:"Implicit Grant Flow",clientId:"",clientSecret:"",scopes:["user-read-email"],refreshToken:"",error:""}),o=("Implicit Grant Flow"===e.authType||"Authorization Code Flow"===e.authType&&e.clientSecret)&&e.clientId&&e.scopes.length>0,[r,s,l]=F("token");r&&r.expires<Date.now()&&l(),(0,n.useEffect)((()=>{if(window.opener&&"function"==typeof window.opener.spotifyCallback){const e=window.opener.spotifyCallback,t=window.location.search||window.location.hash.slice(1);e(new URLSearchParams(t))}}),[]);return n.createElement(j.C,null,n.createElement(i.Z,{component:"form",sx:{mt:4,display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"15px 10px","& > *":{width:"100%"},mb:2}},n.createElement(N.Z,null,n.createElement(T.Z,null,"Authorization Type"),n.createElement(P.Z,{onChange:e=>{t({type:"setAuthType",payload:e.target.value})},value:e.authType,label:"Authorization Type"},["Implicit Grant Flow","Authorization Code Flow"].map((e=>n.createElement(E.Z,{key:e,value:e},e))))),n.createElement(N.Z,null,n.createElement(T.Z,null,"Scopes"),n.createElement(P.Z,{multiple:!0,value:e.scopes,onChange:e=>{t({type:"setScopes",payload:e.target.value})},input:n.createElement(O.Z,{label:"Scopes"})},M.g8.map((e=>n.createElement(E.Z,{key:e,value:e},e))))),n.createElement(R.Z,{value:e.clientId,label:"Client ID",key:"id",onChange:e=>{t({type:"setClientId",payload:e.target.value})}}),"Authorization Code Flow"===e.authType&&n.createElement(R.Z,{value:e.clientSecret,label:"Client Secret",key:"secret",onChange:e=>{t({type:"setClientSecret",payload:e.target.value})}})),o&&n.createElement(z,{sx:{mb:2,backgroundColor:"#1db954",color:"#fff"},variant:"contained",onClick:()=>{const o=function(e){let{type:t,clientId:o,scopes:a,redirectUri:n}=e;return"https://accounts.spotify.com/authorize?"+new URLSearchParams({response_type:"Implicit Grant Flow"===t?"token":"code",show_dialog:"true",client_id:encodeURIComponent(o),redirect_uri:n,scope:a.join(" ")}).toString()}({type:e.authType,clientId:e.clientId,scopes:e.scopes,redirectUri:window.location.href}),a=window.open(o,"Login with Spotify","width=500,height=800");window.spotifyCallback=async o=>{let n=o.get("access_token")||"";const r=o.get("code");if(o.get("error")||!r&&!n)t({type:"setError",payload:"Error logging in to Spotify. Did you click &quot;cancel&quot; in the popup?"});else{if(t({type:"setError",payload:""}),r){const{refresh_token:o,access_token:a}=await async function(e){let{clientId:t,clientSecret:o,redirectUri:a,code:n}=e;return fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Basic "+window.btoa(t+":"+o)},body:new URLSearchParams({grant_type:"authorization_code",code:n,redirect_uri:a}).toString()}).then((e=>e.json())).then((e=>e))}({clientId:e.clientId,clientSecret:e.clientSecret,code:r,redirectUri:window.location.href});t({type:"setRefreshToken",payload:o}),n=a}s({accessToken:n,scopes:e.scopes.join(", "),expires:new Date(Date.now()+36e5).getTime()}),null==a||a.close()}}}},"Login with Spotify"),e.error?n.createElement(_,{message:e.error}):r?n.createElement(pe,(0,a.Z)({},r,{refreshToken:e.refreshToken})):null)},me={title:"Authorization",hide_table_of_contents:!0,sidebar_position:2},he=void 0,ye={unversionedId:"authorization",id:"authorization",title:"Authorization",description:"In order to access Spotify's data, you will need a dedicated Spotify application (and, of course, a Spotify account). If you don't have one already, click the link below and create one. It's free!",source:"@site/docs/authorization.mdx",sourceDirName:".",slug:"/authorization",permalink:"/docs/authorization",draft:!1,editUrl:"https://github.com/eegli/spotifly/tree/main/docs/docs/authorization.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Authorization",hide_table_of_contents:!0,sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/overview"},next:{title:"Command Line",permalink:"/docs/command-line"}},fe={},ve=[{value:"Supported Grant Flows and Tokens",id:"supported-grant-flows-and-tokens",level:2},{value:"Implicit Grant Flow",id:"implicit-grant-flow",level:3},{value:"Authorization Code Flow",id:"authorization-code-flow",level:3},{value:"Getting an access token",id:"getting-an-access-token",level:2}],ge={toc:ve};function be(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},ge,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In order to access Spotify's data, you will need a dedicated Spotify application (and, of course, a Spotify account). If you don't have one already, click the link below and create one. It's free!"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developer.spotify.com/dashboard/"},"https://developer.spotify.com/dashboard/"),".")),(0,r.kt)("p",null,"After having created your application, click ",(0,r.kt)("em",{parentName:"p"},"edit")," and add the following two redirect URLs:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"https://spotifly.nougat.dev/docs/authorization")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:3000")," (optional)")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Whitelisting the first URL enables you to create both short-lived access and long-lived refresh tokens directly on this page using the helper below."),(0,r.kt)("p",{parentName:"div"},"The second URL is needed when you want to generate a long-lived token locally (",(0,r.kt)("em",{parentName:"p"},"Authorization Code Flow"),"). You don't have to add it in your Spotify application. It's only needed when you want to use the ",(0,r.kt)("inlineCode",{parentName:"p"},"auth-token")," package."))),(0,r.kt)("h2",{id:"supported-grant-flows-and-tokens"},"Supported Grant Flows and Tokens"),(0,r.kt)("p",null,"There are multiple ways to authorize with Spotify. We're particularly interested in two of them: ",(0,r.kt)("inlineCode",{parentName:"p"},"Implicit Grant Flow")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Authorization Code Flow"),". Both of these methods eventually let us access user-related data on Spotify. Below is an excerpt from the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.spotify.com/documentation/general/guides/authorization/"},"Spotify documentation")," (",(0,r.kt)("em",{parentName:"p"},"May 2022"),")."),(0,r.kt)("h3",{id:"implicit-grant-flow"},"Implicit Grant Flow"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"The implicit grant flow is carried out on the client side and it does not involve secret keys. Thus, you do not need any server-side code to use it. Access tokens issued are short-lived with no refresh token to extend them when they expire"),"."),(0,r.kt)("h3",{id:"authorization-code-flow"},"Authorization Code Flow"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"The authorization code flow is suitable for long-running applications (e.g. web and mobile apps) where the user grants permission only once.")),(0,r.kt)("p",null,"In short:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"Authorization Code Flow")," involves exchanging a client secret. It generates both a short-lived access and long-lived ",(0,r.kt)("em",{parentName:"li"},"refresh")," token that can be used to independently renew the access token."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"Implicit Grant Flow")," does not include and secrets. It can only be carried out in a browser. The result is a short-lived ",(0,r.kt)("em",{parentName:"li"},"access token"),".")),(0,r.kt)("h2",{id:"getting-an-access-token"},"Getting an access token"),(0,r.kt)("p",null,"In order to authenticate with Spotify, most packages need a (short-lived) access token. If you're unsure what you need, ",(0,r.kt)("em",{parentName:"p"},"Implicit Grant")," is a good start! Tokens obtained from this flow expire after one hour and do not require the exchange of any secrets."),(0,r.kt)("p",null,"These short-lived tokens are saved locally in this browser as long as they are valid. If you select the ",(0,r.kt)("em",{parentName:"p"},"Authorization Code Flow"),", the generated ",(0,r.kt)("strong",{parentName:"p"},"refresh token")," will ",(0,r.kt)("strong",{parentName:"p"},"not")," be saved in your browser. Copy it before you leave the page!"),(0,r.kt)("p",null,"Last but not least, note that all packages that require a token will list what scopes are needed."),(0,r.kt)(ue,{mdxType:"AuthTokenForm"}))}be.isMDXComponent=!0}}]);